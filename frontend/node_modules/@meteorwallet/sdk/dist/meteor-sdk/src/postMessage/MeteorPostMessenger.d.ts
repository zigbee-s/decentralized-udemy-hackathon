import { EMeteorWalletExternalActionSource, EWalletExternalActionType, IMeteorActionResponse_Output, IMeteorComInjectedObject, IPostMessageConnection, TClientPostMessageResponse, TMeteorComListener, TPostMessageSend } from "../../../meteor-common/src/models/external_actions/ExternalActionTypes";
import { ENearNetwork } from "../../../meteor-common/src/types/NearCommonTypes";
interface IOConnectAndWaitForResponse_Input {
    network: ENearNetwork;
    actionType: EWalletExternalActionType;
    inputs: any;
}
declare global {
    interface Window {
        meteorCom?: IMeteorComInjectedObject;
    }
}
declare class ComWindow {
    comType: EMeteorWalletExternalActionSource;
    websiteWindow: Window | undefined;
    wasOpened: boolean;
    walletOrigin: string;
    constructor(connection: IPostMessageConnection, listener: TMeteorComListener<TClientPostMessageResponse>);
    focus(): void;
    sendMessage(data: TPostMessageSend): void;
    isWindowClosed(): boolean;
    hasActiveWindow(): boolean;
    close(): void;
}
declare class MeteorPostMessenger {
    baseWalletUrl: string;
    walletOrigin: string;
    listener: (data: TClientPostMessageResponse) => void;
    connections: IPostMessageConnection[];
    comWindow: ComWindow | undefined;
    comInterval: any;
    constructor();
    removeConnection(uid: string): void;
    updateConnection(uid: string, newConnectionProperties: Partial<IPostMessageConnection>): void;
    sendComs(): void;
    addAndStartConnection(connection: IPostMessageConnection): void;
    connectAndWaitForResponse<T>({ actionType, network, inputs, }: IOConnectAndWaitForResponse_Input): Promise<IMeteorActionResponse_Output<T>>;
}
export declare function getMeteorPostMessenger(): MeteorPostMessenger;
export {};
